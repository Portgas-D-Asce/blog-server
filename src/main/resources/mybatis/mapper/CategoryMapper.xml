<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.devil.blog.mapper.CategoryMapper">
  <select id="getCategories" resultType="Category">
    select * from category 
  </select>
  <select id="getCategory" resultType="Category">
    select * from category where id = #{id}
  </select>
  <select id="getArticles" resultType="Article">
    select * from article where cid in (
      <foreach collection="list" item="id" index="index">
        <if test="index!=0">,</if> #{id}
      </foreach>
    )
  </select>

  <delete id="deleteCategory">
    delete from category where id = #{id}
  </delete>

  <insert id="insertCategory" parameterType="Category" useGeneratedKeys="true" keyProperty="id">
     insert into category(id, pid, name, description) values(0, #{pid}, #{name}, #{description})
  </insert>
</mapper>